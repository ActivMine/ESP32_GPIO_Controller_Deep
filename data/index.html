<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 GPIO Controller</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <nav class="container-fluid">
        <ul>
            <li><strong>üè† ESP32 GPIO Controller</strong></li>
        </ul>
        <ul>
            <li><a href="#" onclick="showTab('inputs')" class="nav-link">üì• –í—Ö–æ–¥—ã</a></li>
            <li><a href="#" onclick="showTab('outputs')" class="nav-link">üì§ –í—ã—Ö–æ–¥—ã</a></li>
            <li><a href="#" onclick="showTab('settings')" class="nav-link">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
            <li><a href="#" onclick="showSystemInfo()" class="nav-link">‚ÑπÔ∏è –ò–Ω—Ñ–æ</a></li>
            <li><a href="#" onclick="rebootDevice()" class="nav-link">üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞</a></li>
        </ul>
    </nav>

    <main class="container">
        <!-- –í–∫–ª–∞–¥–∫–∞ –≤—Ö–æ–¥–æ–≤ -->
        <div id="inputs" class="tab-content active">
            <div class="section-header">
                <h2>–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Ö–æ–¥–æ–≤</h2>
                <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤—Ö–æ–¥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
            </div>
            
            <div id="input-status" class="pins-grid">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                <div class="empty-state">–ù–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤</div>
            </div>
            
            <div class="section-info">
                <p><small>üí° –í—Ö–æ–¥—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è</small></p>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –≤—ã—Ö–æ–¥–æ–≤ -->
        <div id="outputs" class="tab-content">
            <div class="section-header">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞–º–∏</h2>
                <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –≤—ã—Ö–æ–¥–∞–º–∏</p>
            </div>
            
            <div id="output-controls" class="pins-grid">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                <div class="empty-state">–ù–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –≤—ã—Ö–æ–¥–æ–≤</div>
            </div>
            
            <div class="section-info">
                <p><small>üí° –°–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã—Ö–æ–¥–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è "–ü–∞–º—è—Ç—å")</small></p>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div id="settings" class="tab-content">
            <div class="section-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                <p>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WiFi –∏ GPIO</p>
            </div>
            
            <div class="grid">
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ WiFi -->
                <div class="settings-card">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ WiFi</h3>
                    <form id="wifi-form" class="settings-form">
                        <div class="form-group">
                            <label for="wifi-ssid">SSID —Å–µ—Ç–∏</label>
                            <input type="text" id="wifi-ssid" placeholder="–ò–º—è WiFi —Å–µ—Ç–∏" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="wifi-password">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="wifi-password" placeholder="–ü–∞—Ä–æ–ª—å WiFi">
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="use-static" onclick="toggleStaticIP()">
                                –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP
                            </label>
                        </div>
                        
                        <div id="static-ip-fields" style="display: none;">
                            <div class="form-group">
                                <label for="static-ip">IP –∞–¥—Ä–µ—Å</label>
                                <input type="text" id="static-ip" placeholder="192.168.1.100">
                            </div>
                            
                            <div class="form-group">
                                <label for="static-gateway">–®–ª—é–∑</label>
                                <input type="text" id="static-gateway" placeholder="192.168.1.1">
                            </div>
                            
                            <div class="form-group">
                                <label for="static-subnet">–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏</label>
                                <input type="text" id="static-subnet" placeholder="255.255.255.0">
                            </div>
                            
                            <div class="form-group">
                                <label for="static-dns">DNS —Å–µ—Ä–≤–µ—Ä</label>
                                <input type="text" id="static-dns" placeholder="8.8.8.8">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="secondary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å WiFi</button>
                            <button type="button" onclick="checkCurrentIP()" class="outline">üåê –ü—Ä–æ–≤–µ—Ä–∏—Ç—å IP</button>
                        </div>
                    </form>
                </div>
                
                <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GPIO -->
                <div class="settings-card">
                    <h3>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GPIO</h3>
                    <div id="gpio-config">
                        <div class="grid">
                            <div class="form-group">
                                <label for="pin-select">GPIO –ø–∏–Ω</label>
                                <select id="pin-select">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∏–Ω...</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="pin-name">–ò–º—è</label>
                                <input type="text" id="pin-name" placeholder="–î–∞—Ç—á–∏–∫ –¥–≤–µ—Ä–∏">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="pin-type">–¢–∏–ø</label>
                            <select id="pin-type" onchange="togglePinOptions()">
                                <option value="input">–í—Ö–æ–¥</option>
                                <option value="output">–í—ã—Ö–æ–¥</option>
                            </select>
                        </div>
                        
                        <div id="input-options" class="form-group">
                            <label for="input-mode">–†–µ–∂–∏–º –≤—Ö–æ–¥–∞</label>
                            <select id="input-mode">
                                <option value="pullup">–° –ø–æ–¥—Ç—è–∂–∫–æ–π –∫ –ø–∏—Ç–∞–Ω–∏—é</option>
                                <option value="float">–ë–µ–∑ –ø–æ–¥—Ç—è–∂–∫–∏</option>
                            </select>
                        </div>
                        
                        <div id="output-options" style="display: none;" class="form-group">
                            <label>
                                <input type="checkbox" id="pin-memory">
                                –ó–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                            </label>
                        </div>
                        
                        <div class="form-actions">
                            <button onclick="addPinConfig()" class="secondary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–∏–Ω</button>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <h4>–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–∏–Ω—ã</h4>
                        <div class="table-container">
                            <table id="gpio-table">
                                <thead>
                                    <tr>
                                        <th>GPIO</th>
                                        <th>–ò–º—è</th>
                                        <th>–¢–∏–ø</th>
                                        <th>–ü–∞–º—è—Ç—å</th>
                                        <th>–°–æ—Å—Ç–æ—è–Ω–∏–µ</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- –°—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è -->
    <div id="connection-status" class="connection-status disconnected">
        üîå –û—Ç–∫–ª—é—á–µ–Ω–æ
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è -->
    <dialog id="confirm-dialog">
        <article>
            <header>
                <button aria-label="Close" rel="prev" onclick="closeModal()" class="close-btn"></button>
                <h3>‚ö†Ô∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
            </header>
            <p id="confirm-message">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
            <footer>
                <button onclick="closeModal()" class="secondary">‚ùå –û—Ç–º–µ–Ω–∞</button>
                <button onclick="confirmAction()" class="primary">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
            </footer>
        </article>
    </dialog>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
    <dialog id="info-dialog">
        <article>
            <header>
                <button aria-label="Close" rel="prev" onclick="closeInfoModal()" class="close-btn"></button>
                <h3>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ</h3>
            </header>
            <div id="system-info">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
            </div>
            <footer>
                <button onclick="closeInfoModal()" class="primary">–ó–∞–∫—Ä—ã—Ç—å</button>
            </footer>
        </article>
    </dialog>

    <script src="app.js"></script>
</body>
</html>